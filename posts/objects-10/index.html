<!DOCTYPE html>
<html>

<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<meta name="description" content="stones blog.">
<title>
    chapter-10. 상속과 코드 재사용 - my name is Stones
</title>


<link rel="shortcut icon" href="/sam.ico">








<link rel="stylesheet" href="/css/main.min.c5514d3530979d291f3497facc20da1cec870028dbc2a3630b64bab8721bbe49.css" integrity="sha256-xVFNNTCXnSkfNJf6zCDaHOyHACjbwqNjC2S6uHIbvkk=" crossorigin="anonymous" media="screen">




  






<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://example.com/tn.png"/>

<meta name="twitter:title" content="chapter-10. 상속과 코드 재사용"/>
<meta name="twitter:description" content="chapter 10. 상속과 코드 재사용&nbsp;¶ 01. 상속과 중복코드&nbsp;¶ DRY 원칙&nbsp;¶ Don&rsquo;t Repet Yourself
 반복하지 마라 중복 여부를 판단하는 것은 변경이다. 요구사항이 변경되었을때 같이 수정되어야 하면 중복이다. 모양이 유사하다고 중복은 아니다.  중복과 변경&nbsp;¶ 중복 코드 살펴보기&nbsp;¶ 중복 코드 수정하기&nbsp;¶ 타입 코드 사용하기&nbsp;¶ enum PhoneType {REGULAR, NIGHTLY} public Money calculateFee { if(type === PhoneType.REGULAR) { ... } else{ ... } }  상속을 이용해서 중복 코드 제거하기&nbsp;¶ 강하게 결합된 Phone 과 NightlyDiscountPhone&nbsp;¶ 상속을 위한 경고1"/>

<meta property="og:title" content="chapter-10. 상속과 코드 재사용" />
<meta property="og:description" content="chapter 10. 상속과 코드 재사용&nbsp;¶ 01. 상속과 중복코드&nbsp;¶ DRY 원칙&nbsp;¶ Don&rsquo;t Repet Yourself
 반복하지 마라 중복 여부를 판단하는 것은 변경이다. 요구사항이 변경되었을때 같이 수정되어야 하면 중복이다. 모양이 유사하다고 중복은 아니다.  중복과 변경&nbsp;¶ 중복 코드 살펴보기&nbsp;¶ 중복 코드 수정하기&nbsp;¶ 타입 코드 사용하기&nbsp;¶ enum PhoneType {REGULAR, NIGHTLY} public Money calculateFee { if(type === PhoneType.REGULAR) { ... } else{ ... } }  상속을 이용해서 중복 코드 제거하기&nbsp;¶ 강하게 결합된 Phone 과 NightlyDiscountPhone&nbsp;¶ 상속을 위한 경고1" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.com/posts/objects-10/" />
<meta property="og:image" content="https://example.com/tn.png"/>
<meta property="article:published_time" content="2020-03-24T16:30:43+00:00" />
<meta property="article:modified_time" content="2020-03-24T16:30:43+00:00" /><meta property="og:site_name" content="my name is stones" />


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-XR2Y95VWMZ', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


    

    
    
    
    <title>
        
        chapter-10. 상속과 코드 재사용
        
    </title>
</head>

<body>
    
    
    <header class="wrap flex-container">
        <h1>chapter-10. 상속과 코드 재사용</h1>
    </header>
    
    <main class="wrap">
        
<div class="flex-container">
    <aside role="complementary">
        Tue Mar 24, 2020 &#183; 491 words
        <div class="tag-container">
            
            
            <span class="tag">
                <a href="/tags/objects/">
                    objects
                </a>
            </span>
            
            
            
            <span class="tag">
                <a href="/tags/object/">
                    object
                </a>
            </span>
            
            
        </div>
    </aside>
    <hr />
    <article role="article">
        
<h1 id="chapter-10-상속과-코드-재사용" class="anchor-link"><a href="#chapter-10-%ec%83%81%ec%86%8d%ea%b3%bc-%ec%bd%94%eb%93%9c-%ec%9e%ac%ec%82%ac%ec%9a%a9">chapter 10. 상속과 코드 재사용<span class="pilcrow">&nbsp;¶</span></a></h1>

<h2 id="01-상속과-중복코드" class="anchor-link"><a href="#01-%ec%83%81%ec%86%8d%ea%b3%bc-%ec%a4%91%eb%b3%b5%ec%bd%94%eb%93%9c">01. 상속과 중복코드<span class="pilcrow">&nbsp;¶</span></a></h2>

<h3 id="dry-원칙" class="anchor-link"><a href="#dry-%ec%9b%90%ec%b9%99">DRY 원칙<span class="pilcrow">&nbsp;¶</span></a></h3>
<p><strong>Don&rsquo;t Repet Yourself</strong></p>
<ul>
<li>반복하지 마라</li>
<li>중복 여부를 판단하는 것은 변경이다. 요구사항이 변경되었을때 같이 수정되어야 하면 중복이다.</li>
<li>모양이 유사하다고 중복은 아니다.</li>
</ul>

<h3 id="중복과-변경" class="anchor-link"><a href="#%ec%a4%91%eb%b3%b5%ea%b3%bc-%eb%b3%80%ea%b2%bd">중복과 변경<span class="pilcrow">&nbsp;¶</span></a></h3>

<h4 id="중복-코드-살펴보기" class="anchor-link"><a href="#%ec%a4%91%eb%b3%b5-%ec%bd%94%eb%93%9c-%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0">중복 코드 살펴보기<span class="pilcrow">&nbsp;¶</span></a></h4>

<h4 id="중복-코드-수정하기" class="anchor-link"><a href="#%ec%a4%91%eb%b3%b5-%ec%bd%94%eb%93%9c-%ec%88%98%ec%a0%95%ed%95%98%ea%b8%b0">중복 코드 수정하기<span class="pilcrow">&nbsp;¶</span></a></h4>

<h4 id="타입-코드-사용하기" class="anchor-link"><a href="#%ed%83%80%ec%9e%85-%ec%bd%94%eb%93%9c-%ec%82%ac%ec%9a%a9%ed%95%98%ea%b8%b0">타입 코드 사용하기<span class="pilcrow">&nbsp;¶</span></a></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">enum</span> PhoneType <span style="color:#f92672">{</span>REGULAR<span style="color:#f92672">,</span> NIGHTLY<span style="color:#f92672">}</span>

<span style="color:#66d9ef">public</span> Money calculateFee <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>type <span style="color:#f92672">===</span> PhoneType<span style="color:#f92672">.</span><span style="color:#a6e22e">REGULAR</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">...</span>
  <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
    <span style="color:#f92672">...</span>
  <span style="color:#f92672">}</span>  
<span style="color:#f92672">}</span>

</code></pre></div>
<h3 id="상속을-이용해서-중복-코드-제거하기" class="anchor-link"><a href="#%ec%83%81%ec%86%8d%ec%9d%84-%ec%9d%b4%ec%9a%a9%ed%95%b4%ec%84%9c-%ec%a4%91%eb%b3%b5-%ec%bd%94%eb%93%9c-%ec%a0%9c%ea%b1%b0%ed%95%98%ea%b8%b0">상속을 이용해서 중복 코드 제거하기<span class="pilcrow">&nbsp;¶</span></a></h3>

<h3 id="강하게-결합된-phone-과-nightlydiscountphone" class="anchor-link"><a href="#%ea%b0%95%ed%95%98%ea%b2%8c-%ea%b2%b0%ed%95%a9%eb%90%9c-phone-%ea%b3%bc-nightlydiscountphone">강하게 결합된 Phone 과 NightlyDiscountPhone<span class="pilcrow">&nbsp;¶</span></a></h3>
<p><strong>상속을 위한 경고1</strong></p>
<blockquote>
<p>자식 클래스의 메서드 안에서 super 참조를 이용해 부모 클래스의 메서드를 직접 호출할 경우 두 클래스는 강하게 결합된다. Super 호출을 제거할 수 있는 방법을 찾아 결합도를 제거하라.</p>
</blockquote>

<h2 id="02-취약한-기반-클래스-문제" class="anchor-link"><a href="#02-%ec%b7%a8%ec%95%bd%ed%95%9c-%ea%b8%b0%eb%b0%98-%ed%81%b4%eb%9e%98%ec%8a%a4-%eb%ac%b8%ec%a0%9c">02. 취약한 기반 클래스 문제<span class="pilcrow">&nbsp;¶</span></a></h2>
<ul>
<li>상속은 자식 클래스와 부모 클래스의 결합도를 높인다.</li>
<li>부모 클래스의 변경에 의해 자식 클래스가 영향을 받는 현상 : <code>취약한 기반 클래스 문제</code></li>
</ul>
<p>객체지향의 기반은 캡슐화를 통한 변경의 통제다.</p>
<p>상속은 코드의 재사용을 위해 캡슐화의 장점을 희석시키고 구현에 대한 결합도를 높임으로써 객체지향이 가진 강력함을 반감시킨다.</p>

<h3 id="불필요한-인터페이스-상속-문제" class="anchor-link"><a href="#%eb%b6%88%ed%95%84%ec%9a%94%ed%95%9c-%ec%9d%b8%ed%84%b0%ed%8e%98%ec%9d%b4%ec%8a%a4-%ec%83%81%ec%86%8d-%eb%ac%b8%ec%a0%9c">불필요한 인터페이스 상속 문제<span class="pilcrow">&nbsp;¶</span></a></h3>
<p><strong>상속을 위한 경고2</strong></p>
<blockquote>
<p>상속받은 부모 클래스의 메서드가 자식 클래스의 내부 구조에 대한 규칙을 깨뜨릴 수 있다.</p>
</blockquote>

<h3 id="메서드-오버라이딩의-오작용-문제" class="anchor-link"><a href="#%eb%a9%94%ec%84%9c%eb%93%9c-%ec%98%a4%eb%b2%84%eb%9d%bc%ec%9d%b4%eb%94%a9%ec%9d%98-%ec%98%a4%ec%9e%91%ec%9a%a9-%eb%ac%b8%ec%a0%9c">메서드 오버라이딩의 오작용 문제<span class="pilcrow">&nbsp;¶</span></a></h3>
<p><strong>상속을 위한 경고 3</strong></p>
<blockquote>
<p>자식 클래스가 부모 클래스의 메서들르 오버라이딩할 경우 부모 클래스가 자신의 메서드를 사용하는 방법에 자식 클래스가 결합될수 있다.</p>
</blockquote>

<h3 id="부모-클래스와-자식-클래스의-동시-수정-문제" class="anchor-link"><a href="#%eb%b6%80%eb%aa%a8-%ed%81%b4%eb%9e%98%ec%8a%a4%ec%99%80-%ec%9e%90%ec%8b%9d-%ed%81%b4%eb%9e%98%ec%8a%a4%ec%9d%98-%eb%8f%99%ec%8b%9c-%ec%88%98%ec%a0%95-%eb%ac%b8%ec%a0%9c">부모 클래스와 자식 클래스의 동시 수정 문제<span class="pilcrow">&nbsp;¶</span></a></h3>
<p><strong>상속을 위한 경고 4</strong></p>
<blockquote>
<p>클래스를 상속하면 결합도로 인해 자식 클래스와 부모 클래스의 구현을 영원히 변경하지 않거나, 자식 클래스와 부모 클래스를 동시에 변경하거나 둘 중 하나를 선택할 수 밖에 없다.</p>
</blockquote>

<h2 id="03-phone-다시-살펴보기" class="anchor-link"><a href="#03-phone-%eb%8b%a4%ec%8b%9c-%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0">03. Phone 다시 살펴보기<span class="pilcrow">&nbsp;¶</span></a></h2>

<h3 id="추상화에-의존하자" class="anchor-link"><a href="#%ec%b6%94%ec%83%81%ed%99%94%ec%97%90-%ec%9d%98%ec%a1%b4%ed%95%98%ec%9e%90">추상화에 의존하자<span class="pilcrow">&nbsp;¶</span></a></h3>
<p><strong>코드 중복을 제거하기 위해 상속을 도입할 떄 따르는 두가지 원칙</strong></p>
<ul>
<li>두 메서드가 유사하게 보인다면 차이점을 메서드로 추출하라. 메서드 추출을 통해 두 메서드를 동일한 형태로 보이도록 만들수 있다.</li>
<li>부모 클래스의 코드를 하위로 내리지 말고 자식 클래스의 코드를 상위로 올려라. 부모 클래스의 구체적인 메서드를 자식 클래스로 내리는 것 보다 자식 클래스의 추상적인 메서드를 부모 클래스로 올리는 것이 재사용성과 응집도 측면에서 더 뛰어난 결과를 얻을 수 있다.</li>
</ul>

<h3 id="차이를-메서드로-추출하라" class="anchor-link"><a href="#%ec%b0%a8%ec%9d%b4%eb%a5%bc-%eb%a9%94%ec%84%9c%eb%93%9c%eb%a1%9c-%ec%b6%94%ec%b6%9c%ed%95%98%eb%9d%bc">차이를 메서드로 추출하라.<span class="pilcrow">&nbsp;¶</span></a></h3>

<h3 id="중복-코드를-부모-클래스로-올려라" class="anchor-link"><a href="#%ec%a4%91%eb%b3%b5-%ec%bd%94%eb%93%9c%eb%a5%bc-%eb%b6%80%eb%aa%a8-%ed%81%b4%eb%9e%98%ec%8a%a4%eb%a1%9c-%ec%98%ac%eb%a0%a4%eb%9d%bc">중복 코드를 부모 클래스로 올려라<span class="pilcrow">&nbsp;¶</span></a></h3>
<p><strong>리팩토링 후 상속 계층</strong></p>
<p><p style="text-align:center;">
    <img src="objects-10/image-20200324183934409.png" alt="image-20200324183934409"  />
</p>
</p>

<h3 id="추상화가-핵심이다" class="anchor-link"><a href="#%ec%b6%94%ec%83%81%ed%99%94%ea%b0%80-%ed%95%b5%ec%8b%ac%ec%9d%b4%eb%8b%a4">추상화가 핵심이다<span class="pilcrow">&nbsp;¶</span></a></h3>
<ul>
<li><strong>AbstractPhone</strong> 은 전체 통화 목록을 계산하는 방법이 바뀔 경우만 변경된다.</li>
<li><strong>Phone</strong> 은 일반 요금제의 통화 한건을 계산하는 방법이 바뀔 경우 변경된다.</li>
<li><strong>NightlyDiscountPhone</strong> 은 심야 할인 요금제의 통화 한건을 계산 하는 방법이 바뀔 경우 변경된다.</li>
<li>세 클래스는 각각 하나의 변경 이유만을 가진다. <strong>단일 책임 원칙</strong>을 준수하기 때문이다.</li>
</ul>

<h3 id="의도를-드러내는-이름-선택하기" class="anchor-link"><a href="#%ec%9d%98%eb%8f%84%eb%a5%bc-%eb%93%9c%eb%9f%ac%eb%82%b4%eb%8a%94-%ec%9d%b4%eb%a6%84-%ec%84%a0%ed%83%9d%ed%95%98%ea%b8%b0">의도를 드러내는 이름 선택하기<span class="pilcrow">&nbsp;¶</span></a></h3>
<p><strong>Phone -&gt; RegularPhone으로 이름 변경</strong></p>

<h3 id="세금-추가하기" class="anchor-link"><a href="#%ec%84%b8%ea%b8%88-%ec%b6%94%ea%b0%80%ed%95%98%ea%b8%b0">세금 추가하기<span class="pilcrow">&nbsp;¶</span></a></h3>
<p>객체 생성 로직의 변경에 대한 변경을 막기보다는 핵심 로직의 중복을 막아라. 핵심 로직은 한곳에 모아 놓고 조심스럽게 캡슐화 해야한다.</p>

<h2 id="04-차이에-의한-프로그래밍" class="anchor-link"><a href="#04-%ec%b0%a8%ec%9d%b4%ec%97%90-%ec%9d%98%ed%95%9c-%ed%94%84%eb%a1%9c%ea%b7%b8%eb%9e%98%eb%b0%8d">04. 차이에 의한 프로그래밍<span class="pilcrow">&nbsp;¶</span></a></h2>
<p>기존 코드와 다른 부분만을 추가함으로써 애플리케이션의 기능을 확장하는 방법을 <strong>차이에 의한 프로그래밍</strong> 이라고 한다.</p>
<p>차이에 의한 프로그래밍의 목표</p>
<ul>
<li>중복 코드를 제거</li>
<li>코드 재사용</li>
</ul>
<p><strong>재사용가능한 코드란?</strong></p>
<ul>
<li>심각한 버그가 존재하지 않는 코드.</li>
<li>코드를 재사용 하면 코드의 품질은 유지하면서 코들르 작성하는 노력과 테스트는 줄일 수 있다.</li>
</ul>
<p><strong>중복 코드를 제거하고 재사용할수 있는 가장 유명한 방법은 상속이다.</strong></p>
<ol>
<li>중복 코들르 하나의 클래스로 모은다.</li>
<li>원 클래스에서 중복 코드를 제거한 후 옮겨진 클래스를 상속 관계로 연결한다.</li>
</ol>
<p><strong>상속을 이용한 중복 코드 제거 방법</strong></p>
<p><p style="text-align:center;">
    <img src="objects-10/image-20200324185205652.png" alt="image-20200324185205652"  />
</p>
</p>
<p>상속이 코드 재사용 측면에서 매우 강력한 도구이지만 잘못 사용할 경우 돌아오는 피해 역시 크다.</p>
<p>상속의 오용과 남용은 애플리케이션을 이애하고 확장하기 어렵게 만든다.</p>
<p><code>정말로 필요한 경우에만 상속을 사용하라. </code></p>

    </article>
</div>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "XYW" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


        
<nav role="navigation" class="flex-container bottom-menu">
    
<hr />
<p>


    
        <a href="/posts">back</a>
        
            &#183;
        
    

    
        
            <a href="/posts">posts</a>
        
    
    
        
            &#183; 
            <a href="/gallery">gallery</a>
        
            &#183; 
            <a href="/portfolio">portfolio</a>
        
            &#183; 
            <a href="/about">who is stones?</a>
        
    
    &#183; 
    <a href="/">
        main
    </a>

</p>
</nav>

    </main>
    
    <footer class="flex-container footer">
</footer>
    
    
</body>

</html>