<!DOCTYPE html>
<html>

<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<meta name="description" content="stones blog.">
<title>
    clean-architecture-26-28 - my name is Stones
</title>


<link rel="shortcut icon" href="/sam.ico">








<link rel="stylesheet" href="/css/main.min.c5514d3530979d291f3497facc20da1cec870028dbc2a3630b64bab8721bbe49.css" integrity="sha256-xVFNNTCXnSkfNJf6zCDaHOyHACjbwqNjC2S6uHIbvkk=" crossorigin="anonymous" media="screen">




  






<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://example.com/tn.png"/>

<meta name="twitter:title" content="clean-architecture-26-28"/>
<meta name="twitter:description" content="26 메인 컴포넌트&nbsp;¶ 궁극전인 세부사항&nbsp;¶ 문자열 초기화
public class Mian implements HtwMessageReceiver { private static HuntTheWumpus game; private static int hitPoints = 10; private static final List&lt;String&gt; caverns = new ArrayList&lt;&gt;(); private static final String[] environments = new String[] {&#34;bright&#34;, &#34;humid&#34;, &#34;dry&#34;, &#34;creepy&#34;, &#34;ugly&#34;, &#34;foggy&#34;, &#34;hot&#34;, &#34;cold&#34;, &#34;drafty&#34;, &#34;dreadful&#34;}; private static final String[] shapes = new String[] {&#34;round&#34;, &#34;square&#34;, &#34;oval&#34;, &#34;irregualar&#34;, &#34;long&#34;, &#34;craggy&#34;, &#34;rough&#34;, &#34;tall&#34;, &#34;narrow&#34;}; private static final String[] cavernTypes = new String[] {&#34;cavern&#34;, &#34;room&#34;, &#34;chamber&#34;."/>

<meta property="og:title" content="clean-architecture-26-28" />
<meta property="og:description" content="26 메인 컴포넌트&nbsp;¶ 궁극전인 세부사항&nbsp;¶ 문자열 초기화
public class Mian implements HtwMessageReceiver { private static HuntTheWumpus game; private static int hitPoints = 10; private static final List&lt;String&gt; caverns = new ArrayList&lt;&gt;(); private static final String[] environments = new String[] {&#34;bright&#34;, &#34;humid&#34;, &#34;dry&#34;, &#34;creepy&#34;, &#34;ugly&#34;, &#34;foggy&#34;, &#34;hot&#34;, &#34;cold&#34;, &#34;drafty&#34;, &#34;dreadful&#34;}; private static final String[] shapes = new String[] {&#34;round&#34;, &#34;square&#34;, &#34;oval&#34;, &#34;irregualar&#34;, &#34;long&#34;, &#34;craggy&#34;, &#34;rough&#34;, &#34;tall&#34;, &#34;narrow&#34;}; private static final String[] cavernTypes = new String[] {&#34;cavern&#34;, &#34;room&#34;, &#34;chamber&#34;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.com/posts/clean-architecture-26-27/" />
<meta property="og:image" content="https://example.com/tn.png"/>
<meta property="article:published_time" content="2019-11-17T22:10:29+00:00" />
<meta property="article:modified_time" content="2019-11-17T22:10:29+00:00" /><meta property="og:site_name" content="my name is stones" />


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-XR2Y95VWMZ', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


    

    
    
    
    <title>
        
        clean-architecture-26-28
        
    </title>
</head>

<body>
    
    
    <header class="wrap flex-container">
        <h1>clean-architecture-26-28</h1>
    </header>
    
    <main class="wrap">
        
<div class="flex-container">
    <aside role="complementary">
        Sun Nov 17, 2019 &#183; 869 words
        <div class="tag-container">
            
            
            <span class="tag">
                <a href="/tags/clean-architecture/">
                    clean architecture
                </a>
            </span>
            
            
        </div>
    </aside>
    <hr />
    <article role="article">
        
<h1 id="26-메인-컴포넌트" class="anchor-link"><a href="#26-%eb%a9%94%ec%9d%b8-%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8">26 메인 컴포넌트<span class="pilcrow">&nbsp;¶</span></a></h1>

<h2 id="궁극전인-세부사항" class="anchor-link"><a href="#%ea%b6%81%ea%b7%b9%ec%a0%84%ec%9d%b8-%ec%84%b8%eb%b6%80%ec%82%ac%ed%95%ad">궁극전인 세부사항<span class="pilcrow">&nbsp;¶</span></a></h2>
<p><strong>문자열 초기화</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Mian</span> <span style="color:#66d9ef">implements</span> HtwMessageReceiver <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> HuntTheWumpus game<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> hitPoints <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> caverns <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String<span style="color:#f92672">[]</span> environments <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">[]</span> <span style="color:#f92672">{</span><span style="color:#e6db74">&#34;bright&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;humid&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;dry&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;creepy&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;ugly&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;foggy&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;hot&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;cold&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;drafty&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;dreadful&#34;</span><span style="color:#f92672">};</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String<span style="color:#f92672">[]</span> shapes <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">[]</span> <span style="color:#f92672">{</span><span style="color:#e6db74">&#34;round&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;square&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;oval&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;irregualar&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;long&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;craggy&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;rough&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;tall&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;narrow&#34;</span><span style="color:#f92672">};</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String<span style="color:#f92672">[]</span> cavernTypes <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">[]</span> <span style="color:#f92672">{</span><span style="color:#e6db74">&#34;cavern&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;room&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;chamber&#34;</span><span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;catacomb&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;crevasse&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;cell&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;tunnel&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;passageway&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;hall&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;expanse&#34;</span><span style="color:#f92672">};</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String<span style="color:#f92672">[]</span> adornments <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">[]</span> <span style="color:#f92672">{</span><span style="color:#e6db74">&#34;smelling of sulfur&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;with engravings on the walls&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;littered with garbage&#34;</span> <span style="color:#f92672">...</span> <span style="color:#f92672">};</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>**Factory를 사용하여 게임을 생성 **</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> 
	game <span style="color:#f92672">=</span> HtwFactory<span style="color:#f92672">.</span><span style="color:#a6e22e">makeGame</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;htw.game.HuntTheWumpusFacade&#34;</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Main<span style="color:#f92672">());</span> <span style="color:#75715e">//factory 로 main 생성
</span><span style="color:#75715e"></span>  
  createMap<span style="color:#f92672">();</span> <span style="color:#75715e">//지도 생성
</span><span style="color:#75715e"></span>  
  <span style="color:#66d9ef">while</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">){</span>
    
    HuntTheWumps<span style="color:#f92672">.</span><span style="color:#a6e22e">Command</span> c <span style="color:#f92672">=</span> game<span style="color:#f92672">.</span><span style="color:#a6e22e">makeRestCommand</span><span style="color:#f92672">();</span> 
    
    <span style="color:#75715e">/**
</span><span style="color:#75715e">    	동서남북 등 키 를 받아스  행위 맵핑
</span><span style="color:#75715e">    **/</span>
    c<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">();</span> <span style="color:#75715e">// 실행
</span><span style="color:#75715e"></span>  <span style="color:#f92672">}</span>
  
<span style="color:#f92672">}</span>
</code></pre></div><p><strong>맵 생성</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">createMap</span><span style="color:#f92672">(){</span>
 	<span style="color:#66d9ef">int</span> nCaverns <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span>Math<span style="color:#f92672">.</span><span style="color:#a6e22e">random</span><span style="color:#f92672">()</span> <span style="color:#f92672">*</span> 30<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span> <span style="color:#f92672">+</span> 10<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">);</span>
  <span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>nCaverns<span style="color:#f92672">--</span> <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">){</span>
    caverns<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>makeName<span style="color:#f92672">());</span>
  <span style="color:#f92672">}</span>
  
  <span style="color:#f92672">....</span>
    
  game<span style="color:#f92672">.</span><span style="color:#a6e22e">addPitCavern</span><span style="color:#f92672">(...);</span>
  game<span style="color:#f92672">.</span><span style="color:#a6e22e">setQuiver</span><span style="color:#f92672">(</span>5<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><p><strong>메인은 클린 아키텍처의 가장 바깥 원이다.</strong></p>

<h2 id="결론" class="anchor-link"><a href="#%ea%b2%b0%eb%a1%a0">결론<span class="pilcrow">&nbsp;¶</span></a></h2>
<p>메인을 플러그인 컴포넌트로 여기고 , 아키텍처 경계 바깥에 위치하나다고 보면 설정 관련 문제를 쉽게 해결 할 수 있다.</p>

<h1 id="27-크고-작은-모든-서비스들" class="anchor-link"><a href="#27-%ed%81%ac%ea%b3%a0-%ec%9e%91%ec%9d%80-%eb%aa%a8%eb%93%a0-%ec%84%9c%eb%b9%84%ec%8a%a4%eb%93%a4">27 &lsquo;크고 작은 모든&rsquo; 서비스들<span class="pilcrow">&nbsp;¶</span></a></h1>

<h2 id="서비스-아키텍처" class="anchor-link"><a href="#%ec%84%9c%eb%b9%84%ec%8a%a4-%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98">서비스 아키텍처?<span class="pilcrow">&nbsp;¶</span></a></h2>
<p>서비스는?</p>
<blockquote>
<p>프로세스나 플랫폼 경계를 가로지르는 함수 호출에 지나지 않는다.</p>
</blockquote>
<p>서비스를 사용하는 것이 아키텍처인가?</p>
<ul>
<li>아키텍처는 의존성 규칙을 준수하며 고수준의 정채을 저수준의 세부사항으로부터 분리하는 경계에 의해 정의된다.</li>
</ul>
<p>행위를 분리할 뿐인 서비스라면 값비싼 함수호출에 불과하며, 아키텍처관점에서 중요하다고 볼수 없다.</p>

<h2 id="서비스의-이점" class="anchor-link"><a href="#%ec%84%9c%eb%b9%84%ec%8a%a4%ec%9d%98-%ec%9d%b4%ec%a0%90">서비스의 이점?<span class="pilcrow">&nbsp;¶</span></a></h2>
<p><strong>시스템을 서비스로 분리함으로 얻게되는 이점</strong></p>
<ol>
<li>서비스 사이의 결합이 확실히 분리된다.</li>
<li>전담팀이 서비스를 소유하고 운영한다.</li>
</ol>

<h3 id="결합-분리의-오류" class="anchor-link"><a href="#%ea%b2%b0%ed%95%a9-%eb%b6%84%eb%a6%ac%ec%9d%98-%ec%98%a4%eb%a5%98">결합 분리의 오류<span class="pilcrow">&nbsp;¶</span></a></h3>
<blockquote>
<p>서비스 사이의 결합이 분리된다는 점</p>
</blockquote>
<p><strong>정말일까?</strong></p>
<p>서비스 사이를 오가는 데이터 레코드에 새로운 필드를 추가한다면, 이 서비스를 사용하는 모든 서비스는 반드시 변경되어야한다.</p>
<p>서비스들은 이 데이터 레코드에 강하게 결합되고, 서비스들 사이는 서로 간접적으로 결합되어 버린다.</p>

<h3 id="개발-및-배포-독립성의-오류" class="anchor-link"><a href="#%ea%b0%9c%eb%b0%9c-%eb%b0%8f-%eb%b0%b0%ed%8f%ac-%eb%8f%85%eb%a6%bd%ec%84%b1%ec%9d%98-%ec%98%a4%eb%a5%98">개발 및 배포 독립성의 오류<span class="pilcrow">&nbsp;¶</span></a></h3>
<blockquote>
<p>전담팀이 서비스를 소유하고 운영한다?</p>
</blockquote>
<p>전담팀이 각 서비스를 작성하고, 유지보수하며, 운영하는 책임을 진다.</p>
<p>개발 및 배포 독립성은 확장 가능한것으로 간주돈다.</p>
<ul>
<li>대규모 엔터프라이즈 시스템은 서비스 기반 시스템 이외에도, 모노리틱 시스템이나 컴포넌트 기반 시스템으로도 구축할 수 있다는 사실이다.</li>
<li>서비스라고 항상 독립적으로 개발 하고, 배포하며, 운영할수 있는 것은 아니다. 데이터나 행위에서 어느정도 결합되어 있다면 결합정도에 맞게 , 개발, 배포, 운영을 조정해야한다.</li>
</ul>

<h2 id="야옹이-문제" class="anchor-link"><a href="#%ec%95%bc%ec%98%b9%ec%9d%b4-%eb%ac%b8%ec%a0%9c">야옹이 문제<span class="pilcrow">&nbsp;¶</span></a></h2>
<p><!-- raw HTML omitted --></p>
<p>Micro service</p>
<ul>
<li>Taxi UI : 고객 서비스 담당</li>
<li>Taxi Finder : TaxiSupplier의 현황을 검토하여 사용자에게 적합한 택시 후보들을 선별</li>
<li>TaxiSelector : 사용자가 지정한 비용, 시간, 고급 여부 등의 조건을 기초로 후보 택시중 적합한 택시를 선택</li>
<li>TaxiDisplatcher : 해당 택시에 배차 지시</li>
</ul>
<p>고양이를 배달해달라니 !!!</p>
<p>고양이를 배달하려면 위 서비스들 다 변경해야한다.</p>
<p>횡단 관심사가 지닌 문제다.</p>

<h2 id="객체가-구출하다" class="anchor-link"><a href="#%ea%b0%9d%ec%b2%b4%ea%b0%80-%ea%b5%ac%ec%b6%9c%ed%95%98%eb%8b%a4">객체가 구출하다<span class="pilcrow">&nbsp;¶</span></a></h2>
<p>다형적으로 확장할 수 있는 클래스 집합을 생성해 새로운 기능을 처리하도록 함.</p>
<ul>
<li>배차에 특화된 로직은 Rides</li>
<li>야옹이에 대한 신규 기능은 Kittens</li>
</ul>
<p>위 두 컴포넌트는 기존 컴포넌트들에 있는 추상 기반 클래스를 템플릿 메소드나 전략 패턴등을 이용해서 오버라이드한다.</p>
<p>Rides 와 Kittens 가 의존성 규칙을 준수한다는 점을 주목하자.</p>
<p><!-- raw HTML omitted --></p>

<h2 id="컴포넌트-기반-서비스" class="anchor-link"><a href="#%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8-%ea%b8%b0%eb%b0%98-%ec%84%9c%eb%b9%84%ec%8a%a4">컴포넌트 기반 서비스<span class="pilcrow">&nbsp;¶</span></a></h2>
<p><strong>자바의 경우</strong></p>
<p>서비스를 하나이상의 jar 파일에 포함되는 추상 클래스들의 집합이라고 보면,</p>
<ol>
<li>새로운 기능 추가 혹은 기능 확장은 새로운 jar 파일로 만든다.</li>
<li>이때 새로운 jar 파일을 구성하는 클래스들은 기존 jar 파일에 정의된 추상 클래스들을 확장해서 만들어진다.</li>
<li>그러면 새로운 기능 배포는 서비스를 재배포하는 문제가 아니라, 서비스를 로드하는 경로에 새로운 jar 파일만 추가하면 된다.</li>
<li>새로운 기능 추가는 개방 폐쇄 원칙을 준수하게 된다.</li>
</ol>
<p><!-- raw HTML omitted --></p>

<h2 id="횡단-관심사" class="anchor-link"><a href="#%ed%9a%a1%eb%8b%a8-%ea%b4%80%ec%8b%ac%ec%82%ac">횡단 관심사<span class="pilcrow">&nbsp;¶</span></a></h2>
<p>아키텍처 경계가 서비스 사이에 있지 않다는 사실.</p>
<p>서비스를 관통하며 , 서비스를 컴포넌트 단위로 분할한다.</p>
<p>모든 시스템이 직면하는 횡단관심사를 처리하려면</p>
<p><strong>서비스 내부는 의존성 규칙도 준수하는 컴포넌트 아키텍처로 설계해야 한다.</strong></p>
<p><!-- raw HTML omitted --></p>

<h2 id="결론-1" class="anchor-link"><a href="#%ea%b2%b0%eb%a1%a0-1">결론<span class="pilcrow">&nbsp;¶</span></a></h2>
<p>서비스는 시스템의 확장성과 개발 가능성 측면에서 유용하지만, 그 자체로는 아키텍처적으로 그리 중요한 요소는 아니다.</p>
<p>시스템의 아키텍처는 시스템 내부에 그어진 경계와 경계를 넘나드는 의존성에 의해 정의된다.</p>
<p>서비스는 단 하나의 아키텍처 경계로 둘러싸인 단일 컴포넌트로 만들수있다.</p>
<p>서비스는 여러 아키텍처 경계로 분리된 다수의 컴포넌트로 구성할 수 있다.</p>
<p>서비스는 클라이언트와 서비스가 강하게 결합되어 아키텍처적으로 아무런 의미가 없을때도 있다.</p>

<h1 id="28-테스트-경계" class="anchor-link"><a href="#28-%ed%85%8c%ec%8a%a4%ed%8a%b8-%ea%b2%bd%ea%b3%84">28. 테스트 경계<span class="pilcrow">&nbsp;¶</span></a></h1>

<h2 id="시스템-컴포넌트의-테스트" class="anchor-link"><a href="#%ec%8b%9c%ec%8a%a4%ed%85%9c-%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8%ec%9d%98-%ed%85%8c%ec%8a%a4%ed%8a%b8">시스템 컴포넌트의 테스트<span class="pilcrow">&nbsp;¶</span></a></h2>
<ul>
<li>인수테스트</li>
<li>기능테스트</li>
<li>cucumber 테스트
<ul>
<li><a href="https://velog.io/@clarekang/cucumber-kr-login">https://velog.io/@clarekang/cucumber-kr-login</a></li>
</ul>
</li>
<li>TDD 테스트 (Test Driven Development)</li>
<li>BDD 테스트 (Behavior-Driven Development)
<ul>
<li><a href="https://blog.aliencube.org/ko/2014/04/02/differences-between-bdd-and-tdd/">https://blog.aliencube.org/ko/2014/04/02/differences-between-bdd-and-tdd/</a></li>
</ul>
</li>
<li>컴포넌트 테스트</li>
</ul>
<p><strong>Test ?</strong></p>
<ul>
<li>의존성 규칙을 따른다.</li>
<li>세부적이며 구체적인 것으로 의존성은 항상 테스트 대상이 되는 코드를 향한다.</li>
<li>아키텍처에서 가장 바깥쪽 원이다.</li>
<li>테스트는 독립적으로 배포가능하다.</li>
<li>시스템 컴포넌트 중 가장 고립되어있다.</li>
</ul>

<h2 id="테스트를-고려한-설계" class="anchor-link"><a href="#%ed%85%8c%ec%8a%a4%ed%8a%b8%eb%a5%bc-%ea%b3%a0%eb%a0%a4%ed%95%9c-%ec%84%a4%ea%b3%84">테스트를 고려한 설계<span class="pilcrow">&nbsp;¶</span></a></h2>
<p>테스트가 지닌 고립성이 테스트는 대체로 배포하지 않는 다는 사실과 어우러지며, 테스트가 시스템의 설계 범위 밖에 있다고 여겨지나 이 관점은 치명적인 오류가 있다.</p>
<p>테스트와 시스템이 잘 통합되지 않으면</p>
<ul>
<li>테스트는 깨지기 쉽다.</li>
<li>시스템은 뻣뻣해져 변경하기 어려워진다.</li>
</ul>
<p><strong>결합</strong></p>
<p>시스템에 강력한 결합된 테스트가 변경</p>
<ul>
<li>시스템 공통 컴포넌트가 변경되면 수백, 수천개의 테스트가 망가진다.</li>
<li>깨지기 쉬운 테스트 문제(Fragile Tests Problem)</li>
</ul>
<p><strong>문제 해결 방법</strong></p>
<p>테스트를 고려해서 설계해야함.</p>
<ul>
<li>변동성이 있는 것에 의존하지 말라. GUI 는 변동성이 크다.</li>
<li>GUI를 사용하지 않고 업무 규칙을 테스트 할 수 있게 해야한다.</li>
</ul>

<h2 id="테스트-api" class="anchor-link"><a href="#%ed%85%8c%ec%8a%a4%ed%8a%b8-api">테스트 API<span class="pilcrow">&nbsp;¶</span></a></h2>
<p>테스트가 모든 업무 규칙을 검증하는데 사용할 수 있도록 특화된 API 를 만들면 된다.</p>
<p>이러한 API 는 보안 제약사항을 무시할 수 있고, 값비싼 자원은 건너뛰고, 시스템을 테스트 가능한 특정 상태로 갖에하는 강력한 힘들 지녀야만 한다. 이 API는 사용자 인터페이스가 사용하는 인터렉터 와 인터페이스 어댑터들의 상위 집합이 될 것이다,</p>
<p>테스트 API 는 테스트를 애플리케이션으로부터 분리할 목적으로 사용한다.</p>
<p>단순히 테스트를 UI에서 분리하는 것이 아닌, 애플리케이션 구조로부터 결합을 분리하는게 목표다.</p>
<p><strong>구조적 결합</strong></p>
<blockquote>
<p>테스트 결합 중 가장 강하며, 가장 은밀하게 퍼져 나가는 유형</p>
</blockquote>
<p><strong>보안</strong></p>
<blockquote>
<p>테스트 api 를 운영에 배포하면 위험에 처할 수 있다.</p>
</blockquote>
<p>위험을 피하기 위해 테스트 API 자체와 테스트 API 중 위험한 부분의 구현부는 독립적으로 배포할수 있는 컴포넌트로 분리해야한다.</p>

<h2 id="결론-2" class="anchor-link"><a href="#%ea%b2%b0%eb%a1%a0-2">결론<span class="pilcrow">&nbsp;¶</span></a></h2>
<blockquote>
<p>테스트는 시스템 외부에 있지 않고 시스템의 일부이다.</p>
</blockquote>
<p>테스트를 시스템의 일부로 설계하지 않으면 테스트는 깨지기 쉽고 유지보수하기 어려워지는 경향이 있다.</p>
<p>이러한 테스트는 유지보수하기 어렵기에 결국 버려지게 된다.</p>

    </article>
</div>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "dschoi-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


        
<nav role="navigation" class="flex-container bottom-menu">
    
<hr />
<p>


    
        <a href="/posts">back</a>
        
            &#183;
        
    

    
        
            <a href="/posts">posts</a>
        
    
    
        
            &#183; 
            <a href="/gallery">gallery</a>
        
            &#183; 
            <a href="/portfolio">portfolio</a>
        
            &#183; 
            <a href="/about">who is stones?</a>
        
    
    &#183; 
    <a href="/">
        main
    </a>

</p>
</nav>

    </main>
    
    <footer class="flex-container footer">
</footer>
    
    
</body>

</html>